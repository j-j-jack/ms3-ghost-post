{% extends "base-2.html" %}
{% block title %}
<title>Feed</title>
{% endblock %}
{% block content %}

<div class="feed-and-filter-container">
    <div class="feed-div">
    {% for i in range((page*5)-5, page*5) %}
        {% if stories[i] %}
        <div class="story-preview-box">
            <h4 style="text-align: center">{{ stories[i].title }}</h4>
            Date Added: {{ stories[i].date_added }}<br><br>
            Category: {{ stories[i].category }}<br><br>
            Location: {{ stories[i].location }}<br><br>
            Preview: {{ stories[i].preview }}<br><br>
            <div class="feed-div-inner-container">
                <div class="profile-picture-box">
            <figure>
                <img class="feed-profile-picture" src={{ profile_picture_finder(stories[i].story_by) }}>
                <figcaption>Story by: {{ stories[i].story_by  }}</figcaption>
            </figure>
            </div>
            <div class="fav-picture-box">
            <figure>
                <img class="feed-favorite-picture" src="{{ url_for('static', filename='images/heart.svg') }}">
                <figcaption>Favs: {{ stories[i].favs }}</figcaption>
            </figure>
            </div>
            <div class="view-story-box">
            <form method="get" action="">
                <button type="submit">
                    View Story
                    <img class="number-nav-arrow" src="{{ url_for('static', filename='images/right-arrow.svg') }}" 
                aria-hidden="true" alt="right arrow">
                </button>
            </form>
            </div>
        </div>
        </div>
        {% endif %}
    {% endfor %}
    </div>
    <div class="filter-div">

    </div>

</div>
<div class="number-navigation" div class="next">
    {% if page_count > 1 and page > 1 %}
        <div class="prev"  onclick="location.href=`{{ url_for('feed', page=page-1) }}`"">
            <img class="number-nav-arrow" src="{{ url_for('static', filename='images/left-arrow.svg') }}" 
                aria-hidden="true" alt="left arrow">
            Prev
            </div>
    {% endif %}
    {% for i in range(first_number, last_number+1) %}

        {% if i == page %}
            <div class="number-block" onclick="location.href=`{{ url_for('feed', page=i) }}`">
            <b>{{ i }}</b>
        </div>
        
        {% else %}
        <div class="number-block" onclick="location.href=`{{ url_for('feed', page=i) }}`">
            {{ i }}
        </div>
        {% endif %}
    {% endfor %}
    {% if page_count > 1 and page < page_count %}
        <div class="next" onclick="location.href=`{{ url_for('feed', page=page+1) }}`">
            Next
            <img class="number-nav-arrow" src="{{ url_for('static', filename='images/right-arrow.svg') }}" 
                aria-hidden="true" alt="right arrow">
        </div>
    {% endif %}
</div>
{% endblock %}